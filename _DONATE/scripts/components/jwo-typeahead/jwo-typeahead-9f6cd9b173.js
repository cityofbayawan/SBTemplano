!function(){function e(e,n,a){function t(t,i,r,c){function u(){t.searchValue=""}function l(){t.$apply(function(){t.searchValue="",t.menuVisible=!1,u(),h(),s()})}function s(){t.menuVisible=!1,angular.element(e).off("click",l)}function o(){t.fetchingData=!0;var e=n(t.url),a={};angular.isDefined(t.urlParams())&&(a=t.urlParams()),a[t.searchParam]=t.searchValue,e.query(a,function(e){t.queryFailed=!1,t.matchingOptions=e,m(),t.fetchingData=!1},function(e){t.queryFailed=!0,h(),t.fetchingData=!1})}function h(){t.matchingOptions=[]}function m(){t.menuVisible=!0,angular.element(e).on("click",l)}function f(){c&&c.$setViewValue(angular.copy(t.selectedOptions))}t.t=a.literals,t.searchValue="",t.selectedOptions=[],t.matchingOptions=[],t.menuVisible=!1,t.queryFailed=!1,t.maxSelections=angular.isUndefined(t.maxSelections)?1:Number(t.maxSelections),t.minSearchChars=angular.isUndefined(t.minSearchChars)?1:Number(t.minSearchChars),t.maxSearchResults=angular.isUndefined(t.maxSearchResults)?10:Number(t.maxSearchResults),function(){c&&(c.$validators.required=function(e,n){return n&&n.length>0},c.$render=function(){t.selectedOptions=c.$viewValue||[]})}(),t.$watch("searchValue",function(e,n){e!=n&&(c&&c.$setDirty(),""==t.searchValue||angular.isUndefined(t.searchValue)||t.searchValue.length<t.minSearchChars?(h(),s()):o())}),t.blurEvent=function(){c.$setTouched()},t.removeOption=function(e,n){var a=t.selectedOptions.indexOf(n);-1!==a&&t.selectedOptions.splice(a,1),f(),e.preventDefault(),e.stopPropagation()},t.selectOption=function(e,n){t.selectedOptions.push(n),u(),h(),s(),f(),e.preventDefault(),e.stopPropagation()}}return{require:"?ngModel",restrict:"E",scope:{maxSelections:"@",minSearchChars:"@",maxSearchResults:"@",optionValue:"@",optionText:"@",placeholder:"@",url:"@",urlParams:"&",searchParam:"@"},link:t,templateUrl:"components/jwo-typeahead/jwo-typeahead.html"}}angular.module("jwoTypeahead",["ngResource"]).directive("jwoTypeahead",e),e.$inject=["$document","$resource","CORE"]}();
//# sourceMappingURL=../../maps/components/jwo-typeahead/jwo-typeahead.js.map
