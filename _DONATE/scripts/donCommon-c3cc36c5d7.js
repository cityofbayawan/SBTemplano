function callValidateFieldAjaxWrapper(e,t,i){var n=document.getElementById(e);if(""!=n.value)callAjax(t,validateFieldCallback,i+"&txtInputName="+e+"&txtInputValue="+n.value);else{var d=document.getElementById(e+"Valid"),r=document.getElementById(e+"Invalid");d&&setObjVisibility(d,!1),r&&setObjVisibility(r,!1)}}function clearFormOnSubmitAttr(e){var t=$("#"+e);t.length&&t.attr("onsubmit","")}function confirmSubmitDonateAction(e,t,i,n){confirm(decodeHTMLEntities(e))&&(setDonateAction(t,n),submitAction(t,i,!0))}function getFirstDonationDate(e){var t=(new Date,document.getElementById("selRecurringChargeDayID").value-1);document.getElementById("FirstDonation").innerHTML=e[t]}function setInputDisabled(e,t){e&&(e.disabled=t,t?-1==e.className.indexOf("disabled")&&(e.className=e.className+" disabled"):e.className=e.className.replace(/disabled/g,""))}function setDonateAction(e,t){document.getElementById(e).action=t}function updatePayment(e,t){if(setObjVisibility(document.getElementById("divErrorMessage"),!1),validatePayment(e)){return document.getElementById("frmPaymentConfirm").action=t,!0}return setObjVisibility(document.getElementById("divErrorMessage"),!0),!1}function validateAccountNumber(e,t,i){var n=document.getElementById(e).value;n=n.replace(/[ -]/g,""),document.getElementById(e).value!=n&&(document.getElementById(e).value=n);var d=!1,r=document.getElementById(e+"Valid"),m=document.getElementById(e+"Invalid");return""==n?(t&&(document.getElementById(e).className="",setObjVisibility(r,!1),setObjVisibility(m,!1)),d):(d=validateCreditCardNumber(document.getElementById("selPaymentMethodID").value,n),t&&(strClass=d?"":i,document.getElementById(e).className=strClass,setObjVisibility(r,d),setObjVisibility(m,!d)),d)}function validateCreditCardNumber(e,t){if(!/^[0-9]+$/.test(t))return!1;var i=getCreditCardValidationRules(e);if(null==i)return!1;if(i.validLength.indexOf(t.length)<0)return!1;for(var n=!1,d=i.range.replace(/ /g,"").split(","),r=0;r<d.length;r++){var m=0;if(d[r].indexOf("-")>=0){var l=d[r].split("-");if((m=parseInt(t.substring(0,l[0].length)))>=parseInt(l[0])&&m<=parseInt(l[1])){n=!0;break}}else if((m=parseInt(t.substring(0,d[r].length)))==parseInt(d[r])){n=!0;break}}if(n){for(var s,a=0,o=1,u=t.length;u--;)s=parseInt(t.charAt(u),10)*o,a+=s-9*(s>9),o=3-o;a%10!=0&&(n=!1)}return n}function validateFieldCallback(e){if(e){var t=e.documentElement.getElementsByTagName("blFieldValid")[0].firstChild.nodeValue,i=e.documentElement.getElementsByTagName("txtInputName")[0].firstChild.nodeValue,n=document.getElementById(i+"Valid"),d=document.getElementById(i+"Invalid");"1"==t?(setObjVisibility(n,!0),setObjVisibility(d,!1)):(setObjVisibility(n,!1),setObjVisibility(d,!0))}}function validateFieldsMatch(e,t){var i=document.getElementById(e).value,n=document.getElementById(t).value,d=document.getElementById(e+"Matches");d&&(""!=i&&""!=n&&i!=n?setObjVisibility(d,!0):setObjVisibility(d,!1))}function validatePayment(e){var t=!0,i=/[^0-9]|^\s+|\s+$/g,n=/[@%*:;?Â¿#"\\<>]/g,d=document.getElementById("txtDonationFirstName").value;if(d=$.trim(d),""==d?(document.getElementById("txtDonationFirstName").className="input-error",setObjVisibility(document.getElementById("divFirstNameErrorMissing"),!0),setObjVisibility(document.getElementById("divFirstNameErrorInvalid"),!1),t=!1):d.match(n)?(document.getElementById("txtDonationFirstName").className="input-error",setObjVisibility(document.getElementById("divFirstNameErrorMissing"),!1),setObjVisibility(document.getElementById("divFirstNameErrorInvalid"),!0),t=!1):(document.getElementById("txtDonationFirstName").className="",setObjVisibility(document.getElementById("divFirstNameErrorMissing"),!1),setObjVisibility(document.getElementById("divFirstNameErrorInvalid"),!1)),d=document.getElementById("txtDonationLastName").value,d=$.trim(d),""==d?(document.getElementById("txtDonationLastName").className="input-error",setObjVisibility(document.getElementById("divLastNameErrorMissing"),!0),setObjVisibility(document.getElementById("divLastNameErrorInvalid"),!1),t=!1):d.match(n)?(document.getElementById("txtDonationLastName").className="input-error",setObjVisibility(document.getElementById("divLastNameErrorMissing"),!1),setObjVisibility(document.getElementById("divLastNameErrorInvalid"),!0),t=!1):(document.getElementById("txtDonationLastName").className="",setObjVisibility(document.getElementById("divLastNameErrorMissing"),!1),setObjVisibility(document.getElementById("divLastNameErrorInvalid"),!1)),1==e||2==e){""==document.getElementById("txtAccountNumber").value?(document.getElementById("txtAccountNumber").className="input-error",setObjVisibility(document.getElementById("divCardNumberErrorInvalid"),!1),setObjVisibility(document.getElementById("divCardNumberErrorMissing"),!0),t=!1):validateAccountNumber("txtAccountNumber",!0,"input-error")?(document.getElementById("txtAccountNumber").className="",setObjVisibility(document.getElementById("divCardNumberErrorInvalid"),!1),setObjVisibility(document.getElementById("divCardNumberErrorMissing"),!1)):(setObjVisibility(document.getElementById("divCardNumberErrorMissing"),!1),setObjVisibility(document.getElementById("divCardNumberErrorInvalid"),!0),t=!1);var r=document.getElementById("selPaymentMethodID");0==r.options[r.selectedIndex].value?(document.getElementById("selPaymentMethodID").className="input-error",setObjVisibility(document.getElementById("divCardTypeErrorMissing"),!0),t=!1):(document.getElementById("selPaymentMethodID").className="",setObjVisibility(document.getElementById("divCardTypeErrorMissing"),!1));var r=document.getElementById("selExpirationMonth"),m=r.options[r.selectedIndex].value;0==m?(document.getElementById("selExpirationMonth").className="input-error",setObjVisibility(document.getElementById("divExpirationMonthErrorMissing"),!0),t=!1):(document.getElementById("selExpirationMonth").className="",setObjVisibility(document.getElementById("divExpirationMonthErrorMissing"),!1));var r=document.getElementById("selExpirationYear"),l=r.options[r.selectedIndex].value;0==l?(document.getElementById("selExpirationYear").className="input-error",setObjVisibility(document.getElementById("divExpirationYearErrorMissing"),!0),t=!1):(document.getElementById("selExpirationYear").className="",setObjVisibility(document.getElementById("divExpirationYearErrorMissing"),!1));var s=new Date,a=s.getMonth()+1;l==s.getFullYear()&&m<=a?(document.getElementById("selExpirationMonth").className="input-error",document.getElementById("selExpirationYear").className="input-error",setObjVisibility(document.getElementById("divExpirationDateErrorExpired"),!0),t=!1):setObjVisibility(document.getElementById("divExpirationDateErrorExpired"),!1),d=document.getElementById("txtCVV").value,d=$.trim(d),""==d?(document.getElementById("txtCVV").className="input-error",setObjVisibility(document.getElementById("divCVVErrorMissing"),!0),setObjVisibility(document.getElementById("divCVVErrorInvalid"),!1),t=!1):d.match(i)?(document.getElementById("txtCVV").className="input-error",setObjVisibility(document.getElementById("divCVVErrorMissing"),!1),setObjVisibility(document.getElementById("divCVVErrorInvalid"),!0),t=!1):(document.getElementById("txtCVV").className="",setObjVisibility(document.getElementById("divCVVErrorMissing"),!1),setObjVisibility(document.getElementById("divCVVErrorInvalid"),!1))}else if(3==e){d=document.getElementById("txtAccountNumber").value,d=$.trim(d),""==d.value?(document.getElementById("txtAccountNumber").className="input-error",setObjVisibility(document.getElementById("divBankAccountNumberErrorMissing"),!0),setObjVisibility(document.getElementById("divBankAccountNumberErrorInvalid"),!1),t=!1):d.match(i)?(document.getElementById("txtAccountNumber").className="input-error",setObjVisibility(document.getElementById("divBankAccountNumberErrorMissing"),!1),setObjVisibility(document.getElementById("divBankAccountNumberErrorInvalid"),!0),t=!1):(document.getElementById("txtAccountNumber").className="",setObjVisibility(document.getElementById("divBankAccountNumberErrorMissing"),!1),setObjVisibility(document.getElementById("divBankAccountNumberErrorInvalid"),!1));var r=document.getElementById("selBankAccountTypeID");0==r.options[r.selectedIndex].value?(document.getElementById("selBankAccountTypeID").className="input-error",setObjVisibility(document.getElementById("divBankAccountType"),!0),t=!1):(document.getElementById("selBankAccountTypeID").className="",setObjVisibility(document.getElementById("divBankAccountType"),!1)),d=document.getElementById("txtBankRoutingNumber").value,d=$.trim(d),""==d.value?(document.getElementById("txtBankRoutingNumber").className="input-error",setObjVisibility(document.getElementById("divBankRoutingNumberErrorMissing"),!0),setObjVisibility(document.getElementById("divBankRoutingNumberErrorInvalid"),!1),t=!1):d.match(i)?(document.getElementById("txtBankRoutingNumber").className="input-error",setObjVisibility(document.getElementById("divBankRoutingNumberErrorMissing"),!1),setObjVisibility(document.getElementById("divBankRoutingNumberErrorInvalid"),!0),t=!1):(document.getElementById("txtBankRoutingNumber").className="",setObjVisibility(document.getElementById("divBankRoutingNumberErrorMissing"),!1),setObjVisibility(document.getElementById("divBankRoutingNumberErrorInvalid"),!1)),d=document.getElementById("txtPhone").value,d=$.trim(d),""==d.value?(document.getElementById("txtPhone").className="input-error",setObjVisibility(document.getElementById("divPhoneErrorMissing"),!0),setObjVisibility(document.getElementById("divPhoneErrorInvalid"),!1),t=!1):d.match(i)?(document.getElementById("txtPhone").className="input-error",setObjVisibility(document.getElementById("divPhoneErrorMissing"),!1),setObjVisibility(document.getElementById("divPhoneErrorInvalid"),!0),t=!1):(document.getElementById("txtPhone").className="",setObjVisibility(document.getElementById("divPhoneErrorMissing"),!1),setObjVisibility(document.getElementById("divPhoneErrorInvalid"),!1))}var o=document.getElementById("chkDonTerms");return null!=o&&0==o.checked&&(document.getElementById("chkDonTerms").className="input-error",setObjVisibility(document.getElementById("divLegalDisclaimerErrorMissing"),!0),t=!1),t}function validatePaymentForm(e){if(objSuccessErrorBox=document.getElementById("divSuccessfulUpdate"),objSuccessErrorBox&&setObjVisibility(document.getElementById("divSuccessfulUpdate"),!1),setObjVisibility(document.getElementById("divErrorMessage"),!1),setObjVisibility(document.getElementById("txtAccountNumberValid"),!1),!validatePayment(e)){setObjVisibility(document.getElementById("divErrorMessage"),!0);var t=document.getElementById("chkDonTerms");return null!=t&&toggleButton("btnSubmit",t.checked),!1}var i=document.getElementById("PaymentMethodDescr"),n=document.getElementById("selBankAccountTypeID");if(1!=e&&2!=e||null==i)3==e&&null!=n&&(document.getElementById("BankAccountType").innerHTML=n.options[n.selectedIndex].text,document.getElementById("BankRoutingNumber").innerHTML=document.getElementById("txtBankRoutingNumber").value,document.getElementById("Phone").innerHTML=document.getElementById("txtPhone").value);else{var d=document.getElementById("selPaymentMethodID");document.getElementById("PaymentMethodDescr").innerHTML=d.options[d.selectedIndex].text;var r=document.getElementById("selExpirationMonth"),m=document.getElementById("selExpirationYear"),l=r.options[r.selectedIndex].text,s=m.options[m.selectedIndex].text;document.getElementById("ExpirationDate").innerHTML=l+" "+s}return!0}function getCreditCardValidationRules(e){var t=[{paymentMethodId:1,name:"visa",range:"4",validLength:[13,14,15,16,17,18,19]},{paymentMethodId:2,name:"mastercard",range:"51-55, 2221-2720",validLength:[16]},{paymentMethodId:3,name:"amex",range:"34, 37,",validLength:[15]},{paymentMethodId:4,name:"discover",range:"6011, 622126-622925, 644-649, 65",validLength:[16]},{paymentMethodId:5,name:"maestro",range:"50, 56-69",validLength:[12,13,14,15,16,17,18,19]},{paymentMethodId:6,name:"maestro uk",range:"50, 56-69",validLength:[12,13,14,15,16,17,18,19]}];for(i=0;i<t.length;i++)if(t[i].paymentMethodId==e)return t[i]}
//# sourceMappingURL=maps/donCommon.js.map
